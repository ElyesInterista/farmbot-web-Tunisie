webpackJsonp([1],{657:function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},s=this&&this.__decorate||function(e,t,n,a){var l,s=arguments.length,r=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(r=(s<3?l(r):s>3?l(t,n,r):l(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},r=n(3),c=n(709),i=n(710),o=n(708),m=n(369),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return r.createElement("div",{className:"all-content-wrapper"},r.createElement("div",{className:"col-md-3 col-sm-4"},r.createElement(i.StepButtonCluster,l({},this.props))),r.createElement("div",{className:"col-md-6 col-sm-8"},r.createElement(o.SequenceEditorMiddle,l({},this.props))),r.createElement("div",{className:"col-md-3 col-sm-12"},r.createElement(c.SequencesList,l({},this.props))))},t}(r.Component);u=s([m.connect(function(e){return e})],u),t.Sequences=u},659:function(e,t,n){"use strict";function a(e){var t=e.dispatch,n=e.step,a=i.assign({},n);t(c.pushStep(a))}function l(e){var t=e.dispatch,n=e.index;t(c.removeStep(n))}function s(e){var t=e.dispatch,n=e.step,a=e.index,l=e.field;return function(e){var s=p.defensiveClone(n),r=e.currentTarget.value;o.NUMERIC_FIELDS.indexOf(l)!==-1?"-"==r?b.assign(s.args,(i={},i[l]="-",i)):b.assign(s.args,(m={},m[l]=parseInt(r,10),m)):b.assign(s.args,(u={},u[l]=r,u)),t(c.changeStep(a,s));var i,m,u}}var r=n(3),c=n(516),i=n(38),o=n(707),m=n(37),u=n(704),p=n(47),d=n(712),v=n(717),f=n(713),E=n(714),h=n(715),g=n(716),N=n(718),b=n(38);t.copy=a,t.remove=l,t.updateStep=s;var x=function(e){var t=e.dispatch,n=e.index;return r.createElement("div",null,r.createElement(m.Help,{text:"Not done yet :("}),"Coming soon! Delete: ",r.createElement("i",{className:"fa fa-trash step-control",onClick:function(){return l({dispatch:t,index:n})}}))};t.stepTiles={emergency_stop:x,home_all:x,home_x:x,home_y:x,home_z:x,read_status:x,write_parameter:x,read_parameter:x,execute:u.ExecuteBlock,_if:d.TileIf,move_relative:E.TileMoveRelative,move_absolute:f.TileMoveAbsolute,write_pin:N.TileWritePin,wait:v.TileWait,send_message:g.TileSendMessage,read_pin:h.TileReadPin}},660:function(e,t,n){"use strict";function a(e){var t={move_absolute:c.t("Move Absolute"),move_relative:c.t("Move Relative"),write_pin:c.t("Write Pin"),read_pin:c.t("Read Pin"),wait:c.t("Wait"),send_message:c.t("Send Message"),_if:c.t("If Statement"),execute:c.t("Execute Sequence")};return t[e.kind]||e.kind}var l=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=n(3),r=n(516),c=n(17),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.onChange=function(e){var t=e.currentTarget,n=this.props,a=n.step,l=n.index,s=n.dispatch;s(r.addComment(a,l,t.value))},t.prototype.render=function(){return s.createElement("input",{className:"step-label",value:this.props.step.comment||"",placeholder:a(this.props.step),onChange:this.onChange.bind(this)})},t}(s.Component);t.StepTitleBar=i},661:function(e,t,n){"use strict";function a(e){var t=e.step,n=e.field,a=e.dispatch,r=e.index,i=c[n]||s.InputUnknown;return l.createElement(i,{step:t,field:n,dispatch:a,index:r})}var l=n(3),s=n(706),r=n(705),c={speed:r.InputDefault,pin_number:r.InputDefault,pin_value:r.InputDefault,pin_mode:r.InputDefault,operator:r.InputDefault,x:r.InputDefault,y:r.InputDefault,z:r.InputDefault,stub:r.InputDefault,variable:r.InputDefault,label:r.InputDefault,milliseconds:r.InputDefault,message:r.InputDefault,lhs:r.InputDefault,op:r.InputDefault,rhs:r.InputDefault,sequence_id:r.InputDefault};t.StepInputBox=a},666:function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},l=n(3),s=n(37),r=n(47),c=function(e){function t(){var t=e.call(this)||this;return t.state={isOpen:!1},t}return a(t,e),t.prototype.render=function(){function e(e,t){var r=e===n;return l.createElement("div",{key:t,onClick:function(){return a(e)}},l.createElement(s.Saucer,{color:e,active:r}))}var t=this,n=this.props.current,a=this.props.onChange||function(){},c=this.state.isOpen?"active":"";return l.createElement("div",{className:"colorpicker "+c,onClick:function(){t.setState({isOpen:!t.state.isOpen})}},l.createElement(s.Saucer,{color:this.props.current}),l.createElement("div",{className:"colorpicker-body"},r.colors.map(e)))},t}(l.Component);t.ColorPicker=c},667:function(e,t,n){"use strict";function a(e,t,n,a){var l=s.uuid();return t.dataTransfer.setData("text",l),{type:"PUT_DATA_XFER",payload:{intent:n,uuid:l,value:e,draggerId:a}}}function l(e){return function(t,n){var a=n().draggable.dataTransfer[e];if(a&&a.intent)return t({type:"DROP_DATA_XFER",payload:e}),a;throw console.dir(a),new Error("Can't find StepXferObject with UUID "+e)}}var s=n(346);t.stepPut=a,t.stepGet=l},668:function(e,t,n){"use strict";function a(e){var n=e.dispatch,a=e.step,l=e.children,r=e.ghostCss,c=e.intent,i=e.draggerId;return s.createElement("div",{draggable:!0,onDragStart:t.stepDragEventHandler(n,a,r,c,i)},l)}var l=n(681),s=n(3),r=n(667);t.NULL_DRAGGER_ID=3405705229,t.stepDragEventHandler=function(e,t,n,a,s){return void 0===n&&(n=""),function(c){l.addGhostImage(c,n),e(r.stepPut(t,c,a,s))}},t.StepDragger=a},681:function(e,t,n){"use strict";function a(e,t){void 0===t&&(t="");var n=e.currentTarget.cloneNode(!0);return n.classList.add(t),n.style.left="-300px",n.style.position="absolute",document.body.addEventListener("dragend",function(){n.remove()}),document.body.appendChild(n),e.dataTransfer.setDragImage(n,0,0),n}t.addGhostImage=a},682:function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},l=n(3),s={width:"100%",height:"3px",zIndex:10,position:"relative"},r=function(e){function t(){var t=e.call(this)||this;return t.state={isHovered:!1},t}return a(t,e),t.prototype.dragOver=function(e){e.preventDefault()},t.prototype.drop=function(e){e.preventDefault();var t=e.dataTransfer.getData("text"),n=this.props.callback;n&&n(t),this.toggle()},t.prototype.toggle=function(){this.setState({isHovered:!this.state.isHovered})},t.prototype.visible=function(){return l.createElement("div",{className:"drag-drop-area padding",onDragOver:this.dragOver.bind(this),onDrop:this.drop.bind(this)},this.props.children)},t.prototype.hidden=function(){return l.createElement("div",{style:s})},t.prototype.render=function(){var e=this.props.isLocked||this.state.isHovered;return l.createElement("div",{onDragLeave:this.toggle.bind(this),onDragEnter:this.toggle.bind(this)},e?this.visible():this.hidden())},t}(l.Component);t.DropArea=r},704:function(e,t,n){"use strict";function a(e,t){var n=function(e){return!!e.id},a=function(e,t){return e!==t};return e.filter(function(e){return n(e)&&a(t,e)})}function l(e){function t(e){var t=e.value,a=parseInt(t.toString(),10),s={args:{sequence_id:a}},r=Object.assign({},l,s);n(i.changeStep(o,r))}var n=e.dispatch,l=e.step,s=e.sequence,c=e.sequences,o=e.index,p=a(c,s),d=[];p.map(function(e){if(!e.id)throw new Error("Sequence must have ID.");d.push({label:e.name,value:e.id.toString()})});var v=l.args.sequence_id,f=m.find(p,function(e){return e.id===v})||{id:""};return r.createElement(u.Select,{onChange:t,value:(f.id||"").toString(),options:d,placeholder:"Pick a sequence (or save a new one)"})}function s(e){var t=e.dispatch,n=e.step,a=e.index,s=e.sequence,i=e.sequences;return r.createElement("div",null,r.createElement("div",{className:"step-wrapper"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12"},r.createElement("div",{className:"step-header execute-step"},r.createElement("input",{className:"step-label",placeholder:"Execute"}),r.createElement("i",{className:"fa fa-arrows-v step-control"}),r.createElement("i",{className:"fa fa-clone step-control",onClick:function(){return c.copy({dispatch:t,step:n})}}),r.createElement("i",{className:"fa fa-trash step-control",onClick:function(){return c.remove({dispatch:t,index:a})}})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-12"},r.createElement("div",{className:"step-content execute-step"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-xs-12"},r.createElement("label",null,o.t("Sequence")),r.createElement(l,{dispatch:t,step:n,sequence:s,sequences:i,index:a}))))))))}var r=n(3),c=n(659),i=n(516),o=n(17),m=n(38),u=n(37);t.ExecuteBlock=s},705:function(e,t,n){"use strict";function a(e){var t=e.step,n=e.field,a=e.dispatch,c=e.index,i=t.args[n],o=r.isString(i)||r.isNumber(i),m=o?i:"";return l.createElement("input",{type:"text",value:m,onChange:s.updateStep({dispatch:a,step:t,index:c,field:n})})}var l=n(3),s=n(659),r=n(38);t.InputDefault=a},706:function(e,t,n){"use strict";function a(e){var t=(e.step,e.field);e.dispatch,e.index;return l.createElement("input",{type:"text",placeholder:"UNEXPECTED INPUT '"+t.toString+"'"})}var l=n(3);t.InputUnknown=a},707:function(e,t,n){"use strict";t.NUMERIC_FIELDS=["x","y","z","speed","pin_number","pin_value","pin_mode","milliseconds","sequence_id","rhs","sequence_id"]},708:function(e,t,n){"use strict";function a(e,t,n){var a=e(d.stepGet(t)),l=a.value;switch(a.intent){case"step_splice":return e(v.spliceStep(l,n));case"step_move":var s=a.draggerId;return e(v.moveStep(l,s,n));default:throw console.dir(a),new Error("Got unexpected data transfer object.")}}function l(e){var n=e.sequences,a=e.dispatch,l=e.tools,r=n.current,i=n.all[r]||c.nullSequence(),E=function(e){var t=a(d.stepGet(e));if(t.draggerId===f.NULL_DRAGGER_ID)a(v.pushStep(t.value));else{var n=t.draggerId;a(v.removeStep(n)),a(v.pushStep(t.value))}};return s.createElement("div",null,s.createElement("div",{className:"widget-wrapper"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-12"},s.createElement("button",{className:"green button-like widget-control",onClick:x(a,i)},m.t("Save")," ",i.dirty&&"*"),s.createElement("button",{className:"green button-like widget-control",onClick:t.performSeq(a,i)},m.t("Save & Run")),s.createElement("button",{className:"red button-like widget-control",onClick:y(a,i,r)},m.t("Delete")),s.createElement("button",{className:"yellow button-like widget-control",onClick:w(a,i)},m.t("Copy")),s.createElement("div",{className:"widget-header"},s.createElement("h5",null,m.t("Sequence Editor")),s.createElement("i",{className:"fa fa-question-circle widget-help-icon"},s.createElement("div",{className:"widget-help-text"},m.t("Drag and drop commands here to create\n                              sequences for watering, planting seeds,\n                              measuring soil properties, and more. Press the\n                              Test button to immediately try your sequence\n                              with FarmBot. You can also edit, copy, and delete\n                              existing sequences; assign a color; and give\n                              your commands custom names.")))))),s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-12"},s.createElement("div",{className:"widget-content no-bottom-padding"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-11 col-xs-11"},s.createElement(u.BlurableInput,{value:i.name,onCommit:b(a)})),s.createElement(o.ColorPicker,{current:i.color,onChange:function(e){a(c.editCurrentSequence({color:e}))}})),s.createElement(N,{sequence:i,dispatch:a,sequences:n.all,tools:l}),s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-12"},s.createElement(p.DropArea,{isLocked:!0,callback:E},m.t("DRAG STEP HERE")))))))))}var s=n(3),r=n(350),c=n(516),i=n(659),o=n(666),m=n(17),u=n(37),p=n(682),d=n(667),v=n(516),f=n(668),E=n(516),h=function(e){return s.createElement("div",null,"Whoops! Not a valid message_type")},g=function(e,t){return function(n){a(e,n,t)}},N=function(e){var t=e.sequence,n=e.sequences,a=e.dispatch,l=e.tools;return s.createElement("div",null,(t.body||[]).map(function(e,r){var c=i.stepTiles[e.kind]||h;return s.createElement("div",{key:r},s.createElement(p.DropArea,{callback:g(a,r)}),s.createElement(f.StepDragger,{dispatch:a,step:e,ghostCss:"step-drag-ghost-image-big",intent:"step_move",draggerId:r},s.createElement(c,{step:e,index:r,dispatch:a,sequence:t,sequences:n,tools:l})))}))},b=function(e){return function(t){var n=t.currentTarget.value||"";e(c.editCurrentSequence({name:n}))}},x=function(e,t){return function(n){e(c.saveSequence(t))}},w=function(e,t){return function(n){return e(E.copySequence(t))}},y=function(e,t,n){return function(){return e(c.deleteSequence(n))}};t.performSeq=function(e,t){return function(){e(c.saveSequence(t,!1)).then(function(){return r.execSequence(t)})}},t.SequenceEditorMiddle=l},709:function(e,t,n){"use strict";function a(e){var t=e.sequences,n=e.dispatch;return l.createElement("div",null,l.createElement("div",{className:"widget-wrapper sequences-widget"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("button",{className:"green button-like widget-control",onClick:function(){return n(s.addSequence())}},r.t("Add")),l.createElement("div",{className:"widget-header"},l.createElement("h5",null,r.t("Sequences")),l.createElement("i",{className:"fa fa-question-circle widget-help-icon"},l.createElement("div",{className:"widget-help-text"},r.t("Here is the list of all of your sequences.\n                Click one to edit.")))))),l.createElement("div",{className:"widget-content no-bottom-padding"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",null,t.all.map(c(n))))))))}var l=n(3),s=n(516),r=n(17),c=function(e){return function(t,n){var a=["block-wrapper","block","full-width","text-left",(t.color||"purple")+"-block","block-header"],r=function(){e(s.selectSequence(n))};return l.createElement("button",{key:t.id||n,onClick:r,className:a.join(" ")},t.name+(t.dirty?"*":""),l.createElement("i",{className:"fa fa-pencil block-control"}))}};t.SequencesList=a},710:function(e,t,n){"use strict";function a(e){var t=e.dispatch,n=[l.createElement(s.StepButton,{dispatch:t,step:{kind:"move_absolute",args:{location:{kind:"coordinate",args:{x:0,y:0,z:0}},offset:{kind:"coordinate",args:{x:0,y:0,z:0}},speed:100}},color:"blue"},r.t("MOVE ABSOLUTE")),l.createElement(s.StepButton,{dispatch:t,step:{kind:"move_relative",args:{x:0,y:0,z:0,speed:100}},color:"green"},r.t("MOVE RELATIVE")),l.createElement(s.StepButton,{dispatch:t,step:{kind:"write_pin",args:{pin_number:0,pin_value:0,pin_mode:0}},color:"orange"},r.t("WRITE PIN")),l.createElement(s.StepButton,{dispatch:t,step:{kind:"read_pin",args:{pin_number:0,pin_mode:0,label:"---"}},color:"yellow"},r.t("READ PIN")),l.createElement(s.StepButton,{dispatch:t,step:{kind:"wait",args:{milliseconds:0}},color:"brown"},r.t("WAIT")),l.createElement(s.StepButton,{dispatch:t,step:{kind:"send_message",args:{message:"Bot is at position {{ x }}, {{ y }}, {{ z }}.",message_type:"success"}},color:"red"},r.t("SEND MESSAGE")),l.createElement(s.StepButton,{dispatch:t,step:{kind:"_if",args:{lhs:"x",op:"is",rhs:0,_then:{kind:"nothing",args:{}},_else:{kind:"nothing",args:{}}}},color:"purple"},r.t("IF STATEMENT")),l.createElement(s.StepButton,{dispatch:t,step:{kind:"execute",args:{sequence_id:0}},color:"gray"},r.t("EXECUTE"))];return l.createElement("div",null,l.createElement("div",{className:"widget-wrapper"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",{className:"widget-header"},l.createElement("h5",null,"Commands"),l.createElement("i",{className:"fa fa-question-circle widget-help-icon"},l.createElement("div",{className:"widget-help-text"},"These are the most basic commands FarmBot\n                            can execute. Drag and drop them to create sequences\n                            for watering, planting seeds, measuring soil\n                            properties, and more."))))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",{className:"widget-content no-bottom-padding"},l.createElement("div",{className:"row"},n.map(function(e,t){return l.createElement("div",{key:t},e)})))))))}var l=n(3),s=n(711),r=n(17);t.StepButtonCluster=a},711:function(e,t,n){"use strict";function a(e){var t=e.children,n=e.step,a=e.color,r=e.dispatch;return l.createElement("div",{className:"col-xs-6 col-sm-12"},l.createElement("div",{className:"block-wrapper"},l.createElement(s.StepDragger,{dispatch:r,step:n,ghostCss:"step-drag-ghost-image",intent:"step_splice",draggerId:s.NULL_DRAGGER_ID},l.createElement("button",{className:"full-width text-left "+a+"-block block-header block",onClick:c(r,n)},t,l.createElement("i",{className:"fa fa-arrows block-control"})))))}var l=n(3),s=n(668),r=n(516),c=function(e,t){return function(n){e(r.pushStep(t))}};t.StepButton=a},712:function(e,t,n){"use strict";function a(e){var t=e.dispatch,n=e.step,a=e.index,u=e.sequences,p=e.sequence;n=n;var d,v,f=n.args,E=f.lhs,h=f.op;"execute"===f._then.kind&&(d=f._then.args.sequence_id),"execute"===f._else.kind&&(v=f._else.args.sequence_id);var g=[{value:"busy",label:"Busy Status (0, 1)",field:"lhs"},{value:"pin0",label:"Pin 0",field:"lhs"},{value:"pin1",label:"Pin 1",field:"lhs"},{value:"pin2",label:"Pin 2",field:"lhs"},{value:"pin3",label:"Pin 3",field:"lhs"},{value:"pin4",label:"Pin 4",field:"lhs"},{value:"pin5",label:"Pin 5",field:"lhs"},{value:"pin6",label:"Pin 6",field:"lhs"},{value:"pin7",label:"Pin 7",field:"lhs"},{value:"pin8",label:"Pin 8",field:"lhs"},{value:"pin9",label:"Pin 9",field:"lhs"},{value:"pin10",label:"Pin 10",field:"lhs"},{value:"pin11",label:"Pin 11",field:"lhs"},{value:"pin12",label:"Pin 12",field:"lhs"},{value:"pin13",label:"Pin 13",field:"lhs"},{value:"x",label:"X position",field:"lhs"},{value:"y",label:"Y Position",field:"lhs"},{value:"z",label:"Z position",field:"lhs"}],N=u.map(function(e){return{label:e.name?e.name:"SEQUENCE NAME NOT FOUND",value:e.id?e.id:"SEQUENCE ID NOT FOUND",field:"sequence_id",type:"_then"}}),b=u.map(function(e){return{label:e.name?e.name:"SEQUENCE NAME NOT FOUND",value:e.id?e.id:"SEQUENCE ID NOT FOUND",field:"sequence_id",type:"_else"}}),x=[{value:"<",label:"is less than",field:"op"},{value:">",label:"is greater than",field:"op"},{value:"is",label:"is equal to",field:"op"},{value:"not",label:"is not equal to",field:"op"}],w=function(e){var n=e.field,l=e.value;l&&n&&t(i.changeStepSelect(l,a,n))},y=function(e){var n=e.field,l=e.value,s=e.type;l&&n&&s&&t(i.updateSubSequence(l,a,n,s))},S=d===p.id||v===p.id;return N.unshift({label:"---",value:void 0,type:"_then"}),b.unshift({label:"---",value:void 0,type:"_else"}),l.createElement("div",null,l.createElement("div",{className:"step-wrapper"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",{className:"step-header if-step"},l.createElement(o.StepTitleBar,{index:a,dispatch:t,step:n}),l.createElement("i",{className:"fa fa-arrows-v step-control"}),l.createElement("i",{className:"fa fa-clone step-control",onClick:function(){return c.copy({dispatch:t,step:n})}}),l.createElement("i",{className:"fa fa-trash step-control",onClick:function(){return c.remove({dispatch:t,index:a})}}),l.createElement(s.Help,{text:"Detailed documentation coming soon"}),S&&l.createElement("span",null,l.createElement("i",{className:"fa fa-exclamation-triangle"})," Recursive sequence.")))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",{className:"step-content if-step"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-xs-12 col-md-12"},l.createElement("h4",{className:"top"},"IF...")),l.createElement("div",{className:"col-xs-4 col-md-4"},l.createElement("label",null,r.t("Variable")),l.createElement(s.Select,{options:g,placeholder:"LHS...",onChange:w,value:E})),l.createElement("div",{className:"col-xs-4 col-md-4"},l.createElement("label",null,r.t("Operator")),l.createElement(s.Select,{options:x,placeholder:"Condition...",onChange:w,value:h})),l.createElement("div",{className:"col-xs-4 col-md-4"},l.createElement("label",null,r.t("Value")),l.createElement(m.StepInputBox,{dispatch:t,step:n,index:a,field:"rhs"})),l.createElement("div",{className:"col-xs-12 col-md-12"},l.createElement("h4",null,"THEN...")),l.createElement("div",{className:"col-xs-12 col-md-12"},l.createElement("label",null,r.t("Execute Sequence")),l.createElement(s.Select,{options:N,placeholder:"Sequence...",onChange:y,value:d})),l.createElement("div",{className:"col-xs-12 col-md-12"},l.createElement("h4",null,"ELSE...")),l.createElement("div",{className:"col-xs-12 col-md-12"},l.createElement("label",null,r.t("Execute Sequence")),l.createElement(s.Select,{options:b,placeholder:"None (continue to next step)",onChange:y,value:v}))))))))}var l=n(3),s=n(37),r=n(17),c=n(659),i=n(516),o=n(660),m=n(661);t.TileIf=a},713:function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},s=n(3),r=n(3),c=n(660),i=n(37),o=n(659),m=n(17),u=n(516),p=function(e){function t(){var t=e.call(this)||this;return t.update=t.update.bind(t),t.updateSelect=t.updateSelect.bind(t),t.state={options:[{label:"---",value:"---",x:0,y:0,z:0}],value:"---",x:0,y:0,z:0,speed:0},t}return a(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.step,n=t.args.location,a={};this.props.tools.tools.all.map(function(t){e.props.tools.tool_slots.map(function(l){t.id===l.tool_id&&e.state.options&&("tool"===n.kind&&n.args.tool_id===l.tool_id&&(a=l),e.state.options.push({label:t.name,value:t.id,x:l.x,y:l.y,z:l.z}))})});var s=t.args.speed;switch(n.kind){case"tool":this.setState({value:n.args.tool_id,speed:s,x:a.x,y:a.y,z:a.z});break;case"coordinate":var r=l({},n.args),c=l({},this.state);this.setState({x:r.x||c.x,y:r.x||c.y,z:r.z||c.z,speed:s});break;default:throw new Error("Error getting node kind.")}},t.prototype.updateSelect=function(e){var t=this,n=e.x,a=e.y,l=e.z,s=e.value;this.setState({x:n,y:a,z:l,value:s,options:this.state.options},function(){t.props.dispatch(u.updateMoveAbsStep(t.state,t.props.index))})},t.prototype.update=function(e){var t=this,n=e.currentTarget,a=n.name,l=n.value,s={};s[a]=parseInt(l),this.setState(s,function(){t.props.dispatch(u.updateMoveAbsStep(t.state,t.props.index))})},t.prototype.render=function(){var e=this,t=e.update,n=e.updateSelect,a=this.props,l=a.index,r=a.dispatch,u=a.step,p=this.state,d=p.options,v=p.value,f=function(e){var t=function(t){t.preventDefault(),t.stopPropagation(),e.onSelect(e.option,t)},n=function(t){e.onFocus(e.option,t)},a=function(t){e.isFocused||e.onFocus(e.option,t)},l="---"===e.option.value?"":"("+e.option.x+", "+e.option.y+", "+e.option.z+")";return s.createElement("div",{className:e.className,onMouseDown:t,onMouseEnter:n,onMouseMove:a},e.children,s.createElement("span",{className:"Select-value-params"},l))},E="---"!==this.state.value,h=this.state.x||"0",g=this.state.y||"0",N=this.state.z||"0",b=this.state.speed||"0";return s.createElement("div",null,s.createElement("div",{className:"step-wrapper"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-12"},s.createElement("div",{className:"step-header move-absolute-step"},s.createElement(c.StepTitleBar,{index:l,dispatch:r,step:u}),s.createElement("i",{className:"fa fa-arrows-v step-control"}),s.createElement("i",{className:"fa fa-clone step-control",onClick:function(){return o.copy({dispatch:r,step:u})}}),s.createElement("i",{className:"fa fa-trash step-control",onClick:function(){return o.remove({dispatch:r,index:l})}}),s.createElement(i.Help,{text:"The Move Absolute step instructs\n                                FarmBot to move to the specified coordinate\n                                regardless of the current position. For example,\n                                if FarmBot is currently at X=1000, Y=1000 and it\n                                receives a Move Absolute where X=0 and Y=3000,\n                                then FarmBot will move to X=0, Y=3000. If\n                                FarmBot must move in multiple directions, it\n                                will move diagonally. If you require straight\n                                movements along one axis at a time, use multiple\n                                Move Absolute steps. Coming soon: Offsets allow\n                                you to more easily instruct FarmBot to move to a\n                                location, but offset from it by the specified\n                                amount. For example moving to just above where a\n                                peripheral is located. Using offsets lets\n                                FarmBot do the math for you."})))),s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-12"},s.createElement("div",{className:"step-content move-absolute-step"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-12"},s.createElement("label",null,m.t("Import coordinates from")),s.createElement(i.Select,{options:d,optionComponent:f,onChange:n,value:v})),s.createElement("div",{className:"col-xs-3 col-md-3"},s.createElement("label",null,m.t("X (mm)")),s.createElement(i.BlurableInput,{value:h.toString(),onCommit:t,type:"number",name:"x",disabled:E})),s.createElement("div",{className:"col-xs-3 col-md-3"},s.createElement("label",null,m.t("Y (mm)")),s.createElement(i.BlurableInput,{value:g.toString(),onCommit:t,type:"number",name:"y",disabled:E})),s.createElement("div",{className:"col-xs-3 col-md-3"},s.createElement("label",null,m.t("Z (mm)")),s.createElement(i.BlurableInput,{value:N.toString(),onCommit:t,type:"number",name:"z",disabled:E})),s.createElement("div",{className:"col-xs-3 col-md-3"},s.createElement("label",null,m.t("Speed")),s.createElement(i.BlurableInput,{onCommit:t,value:b.toString(),type:"number",name:"speed"})),s.createElement("div",{className:"col-xs-3 col-md-3"},s.createElement("label",null,m.t("X-Offset")),s.createElement(i.BlurableInput,{onCommit:t,value:u.args.offset.args.x.toString(),type:"number",name:"offsetX"})),s.createElement("div",{className:"col-xs-3 col-md-3"},s.createElement("label",null,m.t("Y-Offset")),s.createElement(i.BlurableInput,{onCommit:t,value:u.args.offset.args.y.toString(),type:"number",name:"offsetY"})),s.createElement("div",{className:"col-xs-3 col-md-3"},s.createElement("label",null,m.t("Z-Offset")),s.createElement(i.BlurableInput,{onCommit:t,value:u.args.offset.args.z.toString(),type:"number",name:"offsetZ"}))))))))},t}(r.Component);t.TileMoveAbsolute=p},714:function(e,t,n){"use strict";function a(e){var t=e.dispatch,n=e.step,a=e.index;return l.createElement("div",null,l.createElement("div",{className:"step-wrapper"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",{className:"step-header move-relative-step"},l.createElement(s.StepTitleBar,{index:a,dispatch:t,step:n}),l.createElement("i",{className:"fa fa-arrows-v step-control"}),l.createElement("i",{className:"fa fa-clone step-control",onClick:function(){return c.copy({dispatch:t,step:n})}}),l.createElement("i",{className:"fa fa-trash step-control",onClick:function(){return c.remove({dispatch:t,index:a})}}),l.createElement(r.Help,{text:"The Move Relative step instructs FarmBot                         to move the specified distance from its current                         location. For example, if FarmBot is currently at                         X=1000, Y=1000 and it receives a Move Relative where                         X=0 and Y=3000, then FarmBot will move to X=1000,                         Y=4000. If FarmBot must move in multiple directions,                         it will move diagonally. If you require straight                         movements along one axis at a time, use  multiple                         Move Relative steps. Move Relative steps should be                         preceded by a Move Absolute step to ensure you are                         starting from a known location."})))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",{className:"step-content move-relative-step"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-xs-6 col-md-3"},l.createElement("label",null,i.t("X (mm)")),l.createElement(o.StepInputBox,{dispatch:t,step:n,index:a,field:"x"})),l.createElement("div",{className:"col-xs-6 col-md-3"},l.createElement("label",null,i.t("Y (mm)")),l.createElement(o.StepInputBox,{dispatch:t,step:n,index:a,field:"y"})),l.createElement("div",{className:"col-xs-6 col-md-3"},l.createElement("label",null,i.t("Z (mm)")),l.createElement(o.StepInputBox,{dispatch:t,step:n,index:a,field:"z"})),l.createElement("div",{className:"col-xs-6 col-md-3"},l.createElement("label",null,i.t("Speed")),l.createElement(o.StepInputBox,{dispatch:t,step:n,index:a,field:"speed"}))))))))}var l=n(3),s=n(660),r=n(37),c=n(659),i=n(17),o=n(661);t.TileMoveRelative=a},715:function(e,t,n){"use strict";function a(e){var t=e.dispatch,n=e.step,a=e.index;return l.createElement("div",null,l.createElement("div",{className:"step-wrapper"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",{className:"step-header read-pin-step"},l.createElement(s.StepTitleBar,{index:a,dispatch:t,step:n}),l.createElement("i",{className:"fa fa-arrows-v step-control"}),l.createElement("i",{className:"fa fa-clone step-control",onClick:function(){return r.copy({dispatch:t,step:n})}}),l.createElement("i",{className:"fa fa-trash step-control",onClick:function(){return r.remove({dispatch:t,index:a})}}),l.createElement(c.Help,{text:"The Read Pin step instructs FarmBot to\n                      read the current value of the specified pin.\n                      A Pin Mode of 0 is for on/off control, while\n                      a Pin Mode of 1 is for PWM (pulse width modulation)."})))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",{className:"step-content read-pin-step"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-xs-6 col-md-3"},l.createElement("label",null,i.t("Pin Number")),l.createElement(o.StepInputBox,{dispatch:t,step:n,index:a,field:"pin_number"})),l.createElement("div",{className:"col-xs-6 col-md-3"},l.createElement("label",null,i.t("Data Label")),l.createElement(o.StepInputBox,{dispatch:t,step:n,index:a,field:"label"})),l.createElement("div",{className:"col-xs-6 col-md-3"},l.createElement("label",null,i.t("Pin Mode")),l.createElement(o.StepInputBox,{dispatch:t,step:n,index:a,field:"pin_mode"}))))))))}var l=n(3),s=n(660),r=n(659),c=n(37),i=n(17),o=n(661);t.TileReadPin=a},716:function(e,t,n){
"use strict";function a(e){var t=e.dispatch,n=e.step,a=e.index;if("send_message"!==n.kind)throw new Error("TileSendMessage expects send_message");n=n;var p=n.args,d=p.message,v=p.message_type,f=u.pairs({toast:"Toast Notification",email:"Email",sms:"SMS",twitter:"Twitter"}),E=[{value:"success",label:"Success"},{value:"busy",label:"Busy"},{value:"warn",label:"Warning"},{value:"error",label:"Error"},{value:"info",label:"Info"},{value:"fun",label:"Fun"}],h=function(e){var t=function(t){t.preventDefault(),t.stopPropagation(),e.onSelect(e.option,t)},n=function(t){e.onFocus(e.option,t)},a=function(t){e.isFocused||e.onFocus(e.option,t)};return l.createElement("div",{className:e.className,onMouseDown:t,onMouseEnter:n,onMouseMove:a},l.createElement(c.Saucer,{color:e.option.value}),e.children)},g=function(e){return l.createElement("div",{className:"Select-value"},l.createElement("span",{className:"Select-value-label"},l.createElement(c.Saucer,{color:v}),e.children))},N=function(e){var n=e.value;t(m.updateMessageType({value:n,index:a}))},b=function(e){var n=e.target,l=n.id,s=n.checked?m.addChan:m.removeChan;t(s({channel_name:l,index:a}))},x=f.map(function(e,t){var a="send_message"===n.kind?(n.body||[]).map(function(e){return e.args.channel_name}):[],s=e[0],r=e[1],c=a.includes(s),i="email"==s||"sms"==s||"twitter"==s;return l.createElement("fieldset",{key:t},l.createElement("label",{htmlFor:s}," ",r),l.createElement("input",{type:"checkbox",id:s,disabled:i,onChange:function(e){b(e)},checked:c}))});return l.createElement("div",null,l.createElement("div",{className:"step-wrapper"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",{className:"step-header send-message-step"},l.createElement(r.StepTitleBar,{index:a,dispatch:t,step:n}),l.createElement("i",{className:"fa fa-arrows-v step-control"}),l.createElement("i",{className:"fa fa-clone step-control",onClick:function(){return s.copy({dispatch:t,step:n})}}),l.createElement("i",{className:"fa fa-trash step-control",onClick:function(){return s.remove({dispatch:t,index:a})}}),l.createElement(c.Help,{text:"The Send Message step instructs\n                                FarmBot to send a custom message to the logs.\n                                This can help you with debugging your sequences.\n                                Eventually you will be able to receive push\n                                notifications and email alerts of these\n                                messages!"})))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",{className:"step-content send-message-step"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-xs-12"},l.createElement("label",null,i.t("Message")),l.createElement("span",{className:"char-limit"},d.length,"/300"),l.createElement(o.StepInputBox,{dispatch:t,step:n,index:a,field:"message"}),l.createElement("div",{className:"bottom-content"},l.createElement("div",{className:"channel-options"},l.createElement(c.Select,{onChange:N,value:v,options:E,optionComponent:h,valueComponent:g})),l.createElement("div",{className:"channel-fields"},l.createElement("fieldset",null,l.createElement("label",{htmlFor:"ticker"},"Status Ticker/Logs"),l.createElement("input",{type:"checkbox",id:"ticker",disabled:!0,checked:!0})),x)))))))))}var l=n(3),s=n(659),r=n(660),c=n(37),i=n(17),o=n(661),m=n(516),u=n(38);t.TileSendMessage=a},717:function(e,t,n){"use strict";function a(e){var t=e.dispatch,n=e.step,a=e.index;return l.createElement("div",null,l.createElement("div",{className:"step-wrapper"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",{className:"step-header wait-step"},l.createElement(s.StepTitleBar,{index:a,dispatch:t,step:n}),l.createElement("i",{className:"fa fa-arrows-v step-control"}),l.createElement("i",{className:"fa fa-clone step-control",onClick:function(){return c.copy({dispatch:t,step:n})}}),l.createElement("i",{className:"fa fa-trash step-control",onClick:function(){return c.remove({dispatch:t,index:a})}}),l.createElement(r.Help,{text:"The Wait step instructs FarmBot to wait \n                            for the specified amount of time. Use it in \n                            combination with the Pin Write step to water for a \n                            length of time."})))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",{className:"step-content wait-step"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-xs-6 col-md-3"},l.createElement("label",null,i.t("Time in milliseconds")),l.createElement(o.StepInputBox,{dispatch:t,step:n,index:a,field:"milliseconds"}))))))))}var l=n(3),s=n(660),r=n(37),c=n(659),i=n(17),o=n(661);t.TileWait=a},718:function(e,t,n){"use strict";function a(e){var t=e.dispatch,n=e.step,a=e.index;return l.createElement("div",null,l.createElement("div",{className:"step-wrapper"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",{className:"step-header write-pin-step"},l.createElement(s.StepTitleBar,{index:a,dispatch:t,step:n}),l.createElement("i",{className:"fa fa-arrows-v step-control"}),l.createElement("i",{className:"fa fa-clone step-control",onClick:function(){return c.copy({dispatch:t,step:n})}}),l.createElement("i",{className:"fa fa-trash step-control",onClick:function(){return c.remove({dispatch:t,index:a})}}),l.createElement(r.Help,{text:"The Write Pin step instructs FarmBot to\n                      set the specified pin on the Arduino to the specified mode\n                      and value. A Pin Mode of 0 is for on/off control, while\n                      a Pin Mode of 1 is for PWM (pulse width modulation)."})))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",{className:"step-content write-pin-step"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-xs-6 col-md-3"},l.createElement("label",null,i.t("Pin Number")),l.createElement(o.StepInputBox,{dispatch:t,step:n,index:a,field:"pin_number"})),l.createElement("div",{className:"col-xs-6 col-md-3"},l.createElement("label",null,i.t("Value")),l.createElement(o.StepInputBox,{dispatch:t,step:n,index:a,field:"pin_value"})),l.createElement("div",{className:"col-xs-6 col-md-3"},l.createElement("label",null,i.t("Pin Mode")),l.createElement(o.StepInputBox,{dispatch:t,step:n,index:a,field:"pin_mode"}))))))))}var l=n(3),s=n(660),r=n(37),c=n(659),i=n(17),o=n(661);t.TileWritePin=a}});
//# sourceMappingURL=1.b4485b936b1f0d000fea.js.map