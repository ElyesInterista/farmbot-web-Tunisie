webpackJsonp([5],{653:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},l=this&&this.__decorate||function(e,t,n,r){var o,l=arguments.length,a=l<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(l<3?o(a):l>3?o(t,n,a):o(t,n))||a);return l>3&&a&&Object.defineProperty(t,n,a),a},a=n(3),c=n(369),s=n(665),i=n(680),u=(n(1),n(37)),m=n(350),p=n(17),g=n(38),d=function(e){var t=e.bot,n=t.hardware.configuration.os_auto_update,r="Can't Connect to bot",o="yellow";return void 0!=t.currentOSVersion?t.currentOSVersion===t.hardware.informational_settings.controller_version?(r=p.t("UP TO DATE"),o="gray"):(r=p.t("UPDATE"),o="green"):r="Can't Connect to release server",a.createElement("div",{className:"updates"},a.createElement("p",null,p.t("Auto Updates?")),a.createElement(s.ToggleButton,{toggleval:String(n)||"undefined",toggleAction:function(){m.updateConfig({os_auto_update:!n})}}),a.createElement("button",{className:"button-like "+o,onClick:function(){return m.checkControllerUpdates()}},r))},E=function(e){var t=e.bot,n=t.hardware.configuration.fw_auto_update,r="Can't Connect to bot",o="yellow";return void 0!=t.currentFWVersion&&(t.currentFWVersion==(t.hardware.mcu_params.param_version||"").toString()?(r=p.t("UP TO DATE"),o="gray"):(r=p.t("UPDATE"),o="green")),a.createElement("div",{className:"updates"},a.createElement("p",null,p.t("Auto Updates?")),a.createElement(s.ToggleButton,{toggleval:String(n)||"undefined",toggleAction:function(){m.updateConfig({fw_auto_update:!n})}}),a.createElement("button",{className:"button-like "+o,onClick:function(){return m.checkArduinoUpdates()}},r))},h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.primary=function(){return this.props.bot.configBuffer[this.props.setting]},t.prototype.secondary=function(){var e=this.props.bot.hardware.configuration[this.props.setting];return g.isNumber(e)?String(e):e},t.prototype.style=function(){return{border:this.primary()?"1px solid red":""}},t.prototype.change=function(e,t){return function(n){var r=n.currentTarget.value;t(m.changeConfigBuffer((o={},o[e]=Number(r),o)));var o}},t.prototype.render=function(){return a.createElement("input",{type:"text",style:this.style(),onChange:this.change(this.props.setting,this.props.dispatch),value:this.primary()||this.secondary()||"---"})},t}(a.Component);t.ConfigInputBox=h;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.primary=function(){return this.props.bot.settingsBuffer[this.props.setting]},t.prototype.secondary=function(){var e=this.props.bot.hardware.mcu_params[this.props.setting];return g.isNumber(e)?String(e):e},t.prototype.style=function(){return{border:this.primary()?"1px solid red":""}},t.prototype.change=function(e,t){return function(n){var r=n.currentTarget.value;t(m.changeSettingsBuffer(e,r))}},t.prototype.render=function(){return a.createElement("td",null,a.createElement("input",{type:"text",style:this.style(),onChange:this.change(this.props.setting,this.props.dispatch),value:this.primary()||this.secondary()||"---"}))},t}(a.Component);t.McuInputBox=_;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){u.success("Weed Detector is still under construction!","Work in Progress")},t.prototype.updateBot=function(e){this.props.dispatch(m.saveAccountChanges)},t.prototype.changeBot=function(e){e.preventDefault(),console.warn("If you are reading this method, refactor NOW! -RC");var t=g.object([[e.currentTarget.name,e.currentTarget.value]]);this.props.dispatch(m.changeDevice(t))},t.prototype.saveBot=function(e){e.preventDefault();var t=this.props.bot.account;this.props.dispatch(m.addDevice(t))},t.prototype.render=function(){var e=this;if(this.props.auth)return a.createElement("div",{className:"all-content-wrapper"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12 col-sm-12"},a.createElement("div",{className:"widget-wrapper devices-widget"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12"},a.createElement("form",{onSubmit:this.saveBot.bind(this)},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12"},a.createElement("button",{type:"submit",className:"button-like\n                                                        green widget-control",onClick:this.updateBot.bind(this)},p.t("SAVE")," ",this.props.bot.account.dirty?"*":""),a.createElement("div",{className:"widget-header"},a.createElement("h5",null,p.t("DEVICE")),a.createElement("i",{className:"fa\n                                                        fa-question-circle\n                                                        widget-help-icon"},a.createElement("div",{className:"\n                                                            widget-help-text"},p.t("This widget\n                                                                shows device\n                                                                information.")))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12"},a.createElement("div",{className:"widget-content"},a.createElement("table",{className:"plain"},a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("NAME"))),a.createElement("td",{colSpan:2},a.createElement("input",{name:"name",onChange:this.changeBot.bind(this),value:this.props.bot.account.name}))),a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("NETWORK"))),a.createElement("td",{colSpan:2},a.createElement("p",null," ","mqtt://"+this.props.auth.token.unencoded.mqtt," "))),a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("CONTROLLER"))),a.createElement("td",{className:"devices-pad"},a.createElement("p",null,p.t("Version")," ",String(this.props.bot.hardware.informational_settings.controller_version)||p.t("Not Connected to bot")),a.createElement(d,o({},this.props)))),a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("FIRMWARE"))),a.createElement("td",{className:"devices-pad"},a.createElement("p",null,p.t("Version")," ",String(this.props.bot.hardware.mcu_params.param_version)||p.t("Not Connected to bot")),a.createElement(E,o({},this.props)))),a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("RESTART FARMBOT")," ")),a.createElement("td",null,a.createElement("p",null,p.t("This will restart FarmBot's Raspberry\n                                            Pi and controller software."))),a.createElement("td",null,a.createElement("button",{type:"button",className:"button-like yellow",onClick:m.reboot},p.t("RESTART")))),a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("SHUTDOWN FARMBOT"))),a.createElement("td",null,a.createElement("p",null,p.t("This will shutdown FarmBot's Raspberry Pi.\n                                              To turn it back on, unplug FarmBot\n                                              and plug it back in."))),a.createElement("td",null,a.createElement("button",{type:"button",className:"button-like red",onClick:m.powerOff},p.t("SHUTDOWN")))),a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("Factory Reset"))),a.createElement("td",null,a.createElement("p",null,p.t("\nFactory resetting your FarmBot will destroy all data on the device, revoking your FarmBot's abilily to connect to your web app account and your home wifi. Upon factory resetting, your device will restart into Conflgurator mode. Factory resetting your FarmBot will not affect any data or settings from your web app account, allowing you to do a complete restore to your device once it is back online and paired with your web app account."))),a.createElement("td",null,a.createElement("button",{type:"button",className:"button-like red",onClick:m.factoryReset},p.t("RESET")))))))))))))),a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},a.createElement("div",null,a.createElement("div",{className:"widget-wrapper hardware-widget"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12"},a.createElement("button",{className:"green button-like widget-control",onClick:function(){return e.props.dispatch(m.commitSettingsChanges())}},p.t("SAVE"),Object.keys(this.props.bot.settingsBuffer).length?"*":""),a.createElement("div",{className:"widget-header"},a.createElement("h5",null,"Hardware"),a.createElement("i",{className:"fa fa-question-circle widget-help-icon"},a.createElement("div",{className:"widget-help-text"},p.t("Change settings\n                            of your FarmBot hardware with the fields below.\n                            Caution: Changing these settings to extreme\n                            values can cause hardware malfunction. Make\n                            sure to test any new settings before letting\n                            your FarmBot use them unsupervised. Tip: Recalibrate\n                            FarmBot after changing settings and test a few sequences\n                            to verify that everything works as expected. Note:\n                            Currently not all settings can be changed.")))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12"},a.createElement("table",{className:"plain"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{width:"32%"}),a.createElement("th",{width:"22%"},a.createElement("label",null,p.t("X AXIS"))),a.createElement("th",{width:"22%"},a.createElement("label",null,p.t("Y AXIS"))),a.createElement("th",{width:"22%"},a.createElement("label",null,p.t("Z AXIS"))))),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("MAX SPEED (mm/s)"))),a.createElement(_,o({setting:"movement_max_spd_x"},this.props)),a.createElement(_,o({setting:"movement_max_spd_y"},this.props)),a.createElement(_,o({setting:"movement_max_spd_z"},this.props))),a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("ACCELERATE FOR (steps)"))),a.createElement(_,o({setting:"movement_steps_acc_dec_x"},this.props)),a.createElement(_,o({setting:"movement_steps_acc_dec_y"},this.props)),a.createElement(_,o({setting:"movement_steps_acc_dec_z"},this.props))),a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("TIMEOUT AFTER (seconds)"))),a.createElement(_,o({setting:"movement_timeout_x"},this.props)),a.createElement(_,o({setting:"movement_timeout_y"},this.props)),a.createElement(_,o({setting:"movement_timeout_z"},this.props))),a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("LENGTH (m)"))),a.createElement(_,o({setting:"movement_axis_nr_steps_x"},this.props)),a.createElement(_,o({setting:"movement_axis_nr_steps_y"},this.props)),a.createElement(_,o({setting:"movement_axis_nr_steps_z"},this.props))),a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("CALIBRATION"))),a.createElement("td",null,a.createElement(i.CalibrationButton,{axis:"x"})),a.createElement("td",null,a.createElement(i.CalibrationButton,{axis:"y"})),a.createElement("td",null,a.createElement(i.CalibrationButton,{axis:"z"}))),a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("INVERT ENDPOINTS"))),a.createElement("td",null,a.createElement(s.ToggleButton,{toggleval:this.props.bot.hardware.mcu_params.movement_invert_endpoints_x,toggleAction:function(){return m.settingToggle("movement_invert_endpoints_x",e.props.bot)}})),a.createElement("td",null,a.createElement(s.ToggleButton,{toggleval:this.props.bot.hardware.mcu_params.movement_invert_endpoints_y,toggleAction:function(){return m.settingToggle("movement_invert_endpoints_y",e.props.bot)}})),a.createElement("td",null,a.createElement(s.ToggleButton,{toggleval:this.props.bot.hardware.mcu_params.movement_invert_endpoints_z,toggleAction:function(){return m.settingToggle("movement_invert_endpoints_z",e.props.bot)}}))),a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("INVERT MOTORS"))),a.createElement("td",null,a.createElement(s.ToggleButton,{toggleval:this.props.bot.hardware.mcu_params.movement_invert_motor_x,toggleAction:function(){return m.settingToggle("movement_invert_motor_x",e.props.bot)}})),a.createElement("td",null,a.createElement(s.ToggleButton,{toggleval:this.props.bot.hardware.mcu_params.movement_invert_motor_y,toggleAction:function(){return m.settingToggle("movement_invert_motor_y",e.props.bot)}})),a.createElement("td",null,a.createElement(s.ToggleButton,{toggleval:this.props.bot.hardware.mcu_params.movement_invert_motor_z,toggleAction:function(){return m.settingToggle("movement_invert_motor_z",e.props.bot)}}))),a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("ALLOW NEGATIVES"))),a.createElement("td",null,a.createElement(s.ToggleButton,{toggleval:this.props.bot.hardware.mcu_params.movement_home_up_x,toggleAction:function(){return m.settingToggle("movement_home_up_x",e.props.bot)}})),a.createElement("td",null,a.createElement(s.ToggleButton,{toggleval:this.props.bot.hardware.mcu_params.movement_home_up_y,toggleAction:function(){return m.settingToggle("movement_home_up_y",e.props.bot)}})),a.createElement("td",null,a.createElement(s.ToggleButton,{toggleval:this.props.bot.hardware.mcu_params.movement_home_up_z,toggleAction:function(){return m.settingToggle("movement_home_up_z",e.props.bot)}}))),a.createElement("tr",null,a.createElement("td",null,a.createElement("label",null,p.t("ENABLE ENCODERS"))),a.createElement("td",null,a.createElement(s.ToggleButton,{toggleval:this.props.bot.hardware.mcu_params.encoder_enabled_x,toggleAction:function(){return m.settingToggle("encoder_enabled_x",e.props.bot)}})),a.createElement("td",null,a.createElement(s.ToggleButton,{toggleval:this.props.bot.hardware.mcu_params.encoder_enabled_y,toggleAction:function(){return m.settingToggle("encoder_enabled_y",e.props.bot)}})),a.createElement("td",null,a.createElement(s.ToggleButton,{toggleval:this.props.bot.hardware.mcu_params.encoder_enabled_z,toggleAction:function(){return m.settingToggle("encoder_enabled_z",e.props.bot)}}))))))))))))));throw new Error("Log in first")},t}(a.Component);v=l([c.connect(function(e){return e})],v),t.Devices=v},665:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(3),l=n(17),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.caption=function(){var e={0:l.t("no"),false:l.t("no"),off:l.t("no"),1:l.t("yes"),true:l.t("yes"),on:l.t("yes"),undefined:"---","-1":"---"},t=String(this.props.toggleval);return e[t]||"---"},t.prototype.css=function(){var e="button-like toggle-button red",t="button-like toggle-button green",n="button-like toggle-button yellow",r={0:e,false:e,off:e,1:t,true:t,on:t,undefined:n};return r[String(this.props.toggleval)]||n},t.prototype.render=function(){return o.createElement("button",{className:this.css(),onClick:this.props.toggleAction}," ",this.caption())},t}(o.Component);t.ToggleButton=a},680:function(e,t,n){"use strict";function r(e){c.devices.current.calibrate({axis:e}).then(function(){return console.log("WOO HOO!")},function(){return console.log("Doh!")})}function o(e){var t=e.axis;return l.createElement("button",{type:"button",className:"button-like yellow",onClick:function(){return r(t)}},a.t("CALIBRATE {{axis}}",{axis:t}))}var l=n(3),a=n(17),c=n(518);t.CalibrationButton=o}});
//# sourceMappingURL=5.4feb52ebe1b2df515eb9.js.map